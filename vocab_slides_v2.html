<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vocab Master: Zero Lag Edition</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@700&display=swap');

        body {
            margin: 0;
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, #a8c0ff 0%, #3f2b96 100%);
            color: white;
            height: 100vh;
            overflow: hidden;
            user-select: none;
            display: flex;
            flex-direction: column;
        }

        /* --- DIFFICULTY SCREEN --- */
        #difficulty-screen {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); z-index: 300;
            display: flex; flex-direction: column; 
            align-items: center; justify-content: center;
            transition: opacity 0.5s;
        }
        
        .hidden { display: none !important; opacity: 0; pointer-events: none; }

        .title-large { font-family: 'Fredoka One'; font-size: clamp(3rem, 6vw, 5rem); margin-bottom: 40px; color: #f1c40f; text-shadow: 0 5px 0 #c29d0b; text-align: center;}
        
        .btn-container { display: flex; gap: 30px; flex-wrap: wrap; justify-content: center; }

        .level-btn {
            padding: 20px 50px; font-size: clamp(1.5rem, 3vw, 2.5rem); border: none; border-radius: 20px;
            cursor: pointer; font-family: 'Fredoka One'; color: white;
            transition: transform 0.2s, box-shadow 0.2s;
            min-width: 250px; text-align: center;
        }
        .level-btn:hover { transform: translateY(-5px); filter: brightness(1.1); }
        .level-btn:active { transform: translateY(5px); box-shadow: none !important; }

        .btn-easy { background: #2ecc71; box-shadow: 0 10px 0 #27ae60; }
        .btn-medium { background: #f39c12; box-shadow: 0 10px 0 #d35400; }
        .btn-hard { background: #e74c3c; box-shadow: 0 10px 0 #c0392b; }

        /* --- SLIDE STAGE --- */
        #slide-stage {
            flex: 1; display: none;
            flex-direction: column; align-items: center; justify-content: center;
            position: relative; z-index: 1; padding: 20px;
        }

        .card-box {
            background: white; color: #333; 
            width: 90%; max-width: 1200px;
            padding: 5vh 5vw; 
            border-radius: 30px; text-align: center;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5); position: relative;
            border-bottom: 12px solid #ddd;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            min-height: 50vh;
        }

        #english-word {
            font-family: 'Fredoka One', cursive; 
            font-size: clamp(3rem, 8vw, 7rem); 
            color: #2c3e50; margin: 0; line-height: 1.1; letter-spacing: 2px;
        }

        #bangla-meaning {
            font-size: clamp(2rem, 5vw, 4rem); 
            margin-top: 30px; font-weight: bold;
            padding: 15px 40px;
            border-radius: 15px; display: inline-block; min-width: 200px;
        }

        /* --- THE FIX IS HERE --- */
        
        /* 1. BLUR STATE: No transition (Instant Hiding) */
        .blur { 
            filter: blur(40px); /* Increased blur intensity */
            background: #e0e0e0; 
            color: transparent; 
            user-select: none;
            transition: none !important; /* CRITICAL: INSTANT CHANGE */
        }

        /* 2. REVEAL STATE: Smooth Transition (Nice Reveal) */
        .reveal { 
            filter: blur(0); 
            background: rgba(231, 76, 60, 0.1); 
            color: #e74c3c;
            transition: all 0.5s ease-out; /* Smooth fade in */
        }
        
        .hint-text { color: #95a5a6; margin-top: 20px; font-size: 1.2em; font-style: italic; }

        /* --- CONTROLS --- */
        .controls-bar { margin-top: 30px; display: flex; gap: 20px; z-index: 10; flex-wrap: wrap; justify-content: center; }

        .btn {
            border: none; padding: 15px 40px; font-size: 1.5em; border-radius: 50px;
            cursor: pointer; font-family: 'Fredoka One'; transition: 0.2s;
            box-shadow: 0 6px 0 rgba(0,0,0,0.2); touch-action: manipulation;
        }
        .btn:active { transform: translateY(4px); box-shadow: none; }
        
        .btn-nav { background: #f1c40f; color: #333; }
        .btn-whiteboard { background: #2c3e50; color: white; border: 2px solid white; box-shadow: 0 6px 0 #1a252f; }
        
        .top-bar { position: absolute; top: 20px; right: 20px; z-index: 200; display: flex; gap: 10px; }
        .btn-small { 
            background: #c0392b; color: white; font-size: 1em; padding: 10px 25px; 
            border: 2px solid rgba(255,255,255,0.3); border-radius: 30px; cursor: pointer; font-weight: bold;
        }
        .btn-menu { background: #34495e; }

        /* --- BLACKBOARD --- */
        #whiteboard-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: #1e1e1e; z-index: 400; display: none; cursor: crosshair;
        }

        #wb-toolbar {
            position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%);
            background: #333; padding: 15px 30px; border-radius: 60px;
            display: flex; align-items: center; gap: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5); border: 2px solid #555;
        }

        .tool-group { display: flex; gap: 10px; border-right: 2px solid #555; padding-right: 20px; }
        .tool-btn { width: 50px; height: 50px; border-radius: 50%; border: 3px solid #555; cursor: pointer; transition: 0.2s; }
        .tool-btn:hover { transform: scale(1.1); }
        .tool-btn.active { border-color: white; transform: scale(1.2); z-index: 5; }

        .color-white { background: white; }
        .color-yellow { background: #f1c40f; }
        .color-cyan { background: #00d2d3; }
        .color-pink { background: #ff9ff3; }
        .btn-eraser { background: #555; font-size: 1.5em; display: flex; align-items: center; justify-content: center; }

        .slider-group { display: flex; align-items: center; gap: 10px; color: white; font-weight: bold; }
        input[type=range] { width: 100px; cursor: pointer; }

        .btn-close-wb {
            background: #c0392b; color: white; font-family: 'Fredoka One'; border: none;
            padding: 10px 30px; border-radius: 30px; font-size: 1.2em; cursor: pointer; margin-left: 10px;
        }

        .wb-warning {
            position: absolute; top: 20px; left: 20px;
            color: rgba(255,255,255,0.3); font-size: 1.2em; font-weight: bold;
            pointer-events: none; text-transform: uppercase; letter-spacing: 2px;
        }

    </style>
</head>
<body>

    <div id="difficulty-screen">
        <div class="title-large">CHOOSE LEVEL</div>
        <div class="btn-container">
            <button class="level-btn btn-easy" onclick="selectLevel('easy')">EASY (100+)</button>
            <button class="level-btn btn-medium" onclick="selectLevel('medium')">MEDIUM (100+)</button>
            <button class="level-btn btn-hard" onclick="selectLevel('hard')">HARD (100+)</button>
        </div>
        <button class="btn-small" style="margin-top: 50px; background: transparent; border: 2px solid #ccc;" onclick="window.location.href='index.html'">EXIT TO HUB</button>
    </div>

    <div class="top-bar">
        <button class="btn-small btn-menu" onclick="showMenu()">‚ò∞ CHANGE LEVEL</button>
        <button class="btn-small" onclick="window.location.href='index.html'">EXIT üè†</button>
    </div>

    <div id="slide-stage">
        <div class="card-box">
            <h1 id="english-word">Loading...</h1>
            <div id="bangla-meaning" class="blur" onclick="toggleReveal()">...</div>
            <div class="hint-text">(Click/Touch box to reveal meaning)</div>
        </div>

        <div class="controls-bar">
            <button class="btn btn-nav" onclick="prevSlide()">‚¨Ö PREV</button>
            <button class="btn btn-whiteboard" onclick="openWhiteboard()">üé® OPEN BOARD</button>
            <button class="btn btn-nav" onclick="nextSlide()">NEXT ‚û°</button>
        </div>
    </div>

    <div id="whiteboard-overlay">
        <div class="wb-warning">‚ö†Ô∏è Only for Writing, Not Drawing</div>
        <canvas id="drawing-canvas"></canvas>
        <div id="wb-toolbar">
            <div class="tool-group">
                <div class="tool-btn color-white active" onclick="setColor('white', this)"></div>
                <div class="tool-btn color-yellow" onclick="setColor('#f1c40f', this)"></div>
                <div class="tool-btn color-cyan" onclick="setColor('#00d2d3', this)"></div>
                <div class="tool-btn color-pink" onclick="setColor('#ff9ff3', this)"></div>
                <button class="tool-btn btn-eraser" onclick="setEraser(this)">üßΩ</button>
            </div>
            <div class="slider-group">
                <span>üñäÔ∏è Size:</span>
                <input type="range" id="pen-size" min="2" max="30" value="5" oninput="updateSize(this.value)">
            </div>
            <button class="btn-close-wb" onclick="clearBoard()">CLEAR</button>
            <button class="btn-close-wb" style="background:#444;" onclick="closeWhiteboard()">CLOSE ‚úñ</button>
        </div>
    </div>

    <script>
        const vocabData = {
            easy: [
                // 1-20
                { en: "Ant", bn: "‡¶™‡¶ø‡¶Å‡¶™‡¶°‡¶º‡¶æ" }, { en: "Apple", bn: "‡¶Ü‡¶™‡ßá‡¶≤" }, { en: "Ball", bn: "‡¶¨‡¶≤" }, { en: "Bat", bn: "‡¶¨‡¶æ‡¶¶‡ßÅ‡ßú" }, { en: "Cat", bn: "‡¶¨‡¶ø‡¶°‡¶º‡¶æ‡¶≤" },
                { en: "Cup", bn: "‡¶ï‡¶æ‡¶™" }, { en: "Dog", bn: "‡¶ï‡ßÅ‡¶ï‡ßÅ‡¶∞" }, { en: "Door", bn: "‡¶¶‡¶∞‡¶ú‡¶æ" }, { en: "Egg", bn: "‡¶°‡¶ø‡¶Æ" }, { en: "Eye", bn: "‡¶ö‡ßã‡¶ñ" },
                { en: "Fan", bn: "‡¶™‡¶æ‡¶ñ‡¶æ" }, { en: "Fish", bn: "‡¶Æ‡¶æ‡¶õ" }, { en: "Goat", bn: "‡¶õ‡¶æ‡¶ó‡¶≤" }, { en: "Hat", bn: "‡¶ü‡ßÅ‡¶™‡¶ø" }, { en: "Ice", bn: "‡¶¨‡¶∞‡¶´" },
                { en: "Jar", bn: "‡¶¨‡¶Ø‡¶º‡¶æ‡¶Æ" }, { en: "Kite", bn: "‡¶ò‡ßÅ‡¶∞‡¶ø" }, { en: "Lamp", bn: "‡¶¨‡¶æ‡¶§‡¶ø" }, { en: "Man", bn: "‡¶Æ‡¶æ‡¶®‡ßÅ‡¶∑" }, { en: "Net", bn: "‡¶ú‡¶æ‡¶≤" },
                // 21-40
                { en: "Owl", bn: "‡¶™‡ßá‡¶Å‡¶ö‡¶æ" }, { en: "Pen", bn: "‡¶ï‡¶≤‡¶Æ" }, { en: "Queen", bn: "‡¶∞‡¶æ‡¶£‡ßÄ" }, { en: "Rat", bn: "‡¶á‡¶Å‡¶¶‡ßÅ‡¶∞" }, { en: "Sun", bn: "‡¶∏‡ßÇ‡¶∞‡ßç‡¶Ø" },
                { en: "Tree", bn: "‡¶ó‡¶æ‡¶õ" }, { en: "Umbrella", bn: "‡¶õ‡¶æ‡¶§‡¶æ" }, { en: "Van", bn: "‡¶ó‡¶æ‡ßú‡¶ø" }, { en: "Water", bn: "‡¶™‡¶æ‡¶®‡¶ø" }, { en: "X-ray", bn: "‡¶∞‡¶û‡ßç‡¶ú‡¶®‡¶∞‡¶∂‡ßç‡¶Æ‡¶ø" },
                { en: "Yak", bn: "‡¶ö‡¶Æ‡¶∞‡ßÄ ‡¶ó‡¶æ‡¶á" }, { en: "Zebra", bn: "‡¶ú‡ßá‡¶¨‡ßç‡¶∞‡¶æ" }, { en: "Book", bn: "‡¶¨‡¶á" }, { en: "Chair", bn: "‡¶ö‡ßá‡¶Ø‡¶º‡¶æ‡¶∞" }, { en: "Table", bn: "‡¶ü‡ßá‡¶¨‡¶ø‡¶≤" },
                { en: "Bird", bn: "‡¶™‡¶æ‡¶ñ‡¶ø" }, { en: "Cow", bn: "‡¶ó‡¶∞‡ßÅ" }, { en: "Milk", bn: "‡¶¶‡ßÅ‡¶ß" }, { en: "Moon", bn: "‡¶ö‡¶æ‡¶Å‡¶¶" }, { en: "Star", bn: "‡¶§‡¶æ‡¶∞‡¶æ" },
                // 41-60
                { en: "Sky", bn: "‡¶Ü‡¶ï‡¶æ‡¶∂" }, { en: "River", bn: "‡¶®‡¶¶‡ßÄ" }, { en: "Hand", bn: "‡¶π‡¶æ‡¶§" }, { en: "Leg", bn: "‡¶™‡¶æ" }, { en: "Head", bn: "‡¶Æ‡¶æ‡¶•‡¶æ" },
                { en: "Hair", bn: "‡¶ö‡ßÅ‡¶≤" }, { en: "Nose", bn: "‡¶®‡¶æ‡¶ï" }, { en: "Ear", bn: "‡¶ï‡¶æ‡¶®" }, { en: "Mouth", bn: "‡¶Æ‡ßÅ‡¶ñ" }, { en: "Tooth", bn: "‡¶¶‡¶æ‡¶Å‡¶§" },
                { en: "School", bn: "‡¶∏‡ßç‡¶ï‡ßÅ‡¶≤" }, { en: "Home", bn: "‡¶¨‡¶æ‡¶°‡¶º‡¶ø" }, { en: "Room", bn: "‡¶ï‡¶ï‡ßç‡¶∑" }, { en: "Bed", bn: "‡¶¨‡¶ø‡¶õ‡¶æ‡¶®‡¶æ" }, { en: "Food", bn: "‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞" },
                { en: "Rice", bn: "‡¶≠‡¶æ‡¶§" }, { en: "Bread", bn: "‡¶∞‡ßÅ‡¶ü‡¶ø" }, { en: "Bus", bn: "‡¶¨‡¶æ‡¶∏" }, { en: "Car", bn: "‡¶ó‡¶æ‡ßú‡¶ø" }, { en: "Ship", bn: "‡¶ú‡¶æ‡¶π‡¶æ‡¶ú" },
                // 61-80
                { en: "Boat", bn: "‡¶®‡ßå‡¶ï‡¶æ" }, { en: "Road", bn: "‡¶∞‡¶æ‡¶∏‡ßç‡¶§‡¶æ" }, { en: "Park", bn: "‡¶™‡¶æ‡¶∞‡ßç‡¶ï" }, { en: "Garden", bn: "‡¶¨‡¶æ‡¶ó‡¶æ‡¶®" }, { en: "Flower", bn: "‡¶´‡ßÅ‡¶≤" },
                { en: "Fruit", bn: "‡¶´‡¶≤" }, { en: "Red", bn: "‡¶≤‡¶æ‡¶≤" }, { en: "Blue", bn: "‡¶®‡ßÄ‡¶≤" }, { en: "Green", bn: "‡¶∏‡¶¨‡ßÅ‡¶ú" }, { en: "Black", bn: "‡¶ï‡¶æ‡¶≤‡ßã" },
                { en: "White", bn: "‡¶∏‡¶æ‡¶¶‡¶æ" }, { en: "Run", bn: "‡¶¶‡ßå‡¶°‡¶º‡¶æ‡¶®‡ßã" }, { en: "Jump", bn: "‡¶≤‡¶æ‡¶´‡¶æ‡¶®‡ßã" }, { en: "Sleep", bn: "‡¶ò‡ßÅ‡¶Æ‡¶æ‡¶®‡ßã" }, { en: "Eat", bn: "‡¶ñ‡¶æ‡¶ì‡ßü‡¶æ" },
                { en: "Drink", bn: "‡¶™‡¶æ‡¶® ‡¶ï‡¶∞‡¶æ" }, { en: "Play", bn: "‡¶ñ‡ßá‡¶≤‡¶æ" }, { en: "Read", bn: "‡¶™‡¶°‡¶º‡¶æ" }, { en: "Write", bn: "‡¶≤‡ßá‡¶ñ‡¶æ" }, { en: "Listen", bn: "‡¶∂‡ßã‡¶®‡¶æ" },
                // 81-100
                { en: "Speak", bn: "‡¶¨‡¶≤‡¶æ" }, { en: "Boy", bn: "‡¶¨‡¶æ‡¶≤‡¶ï" }, { en: "Girl", bn: "‡¶¨‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ" }, { en: "Baby", bn: "‡¶∂‡¶ø‡¶∂‡ßÅ" }, { en: "Father", bn: "‡¶¨‡¶æ‡¶¨‡¶æ" },
                { en: "Mother", bn: "‡¶Æ‡¶æ" }, { en: "Sister", bn: "‡¶¨‡ßã‡¶®" }, { en: "Brother", bn: "‡¶≠‡¶æ‡¶á" }, { en: "King", bn: "‡¶∞‡¶æ‡¶ú‡¶æ" }, { en: "Gold", bn: "‡¶∏‡ßç‡¶¨‡¶∞‡ßç‡¶£" },
                { en: "Silver", bn: "‡¶∞‡ßå‡¶™‡ßç‡¶Ø" }, { en: "Doll", bn: "‡¶™‡ßÅ‡¶§‡ßÅ‡¶≤" }, { en: "Toy", bn: "‡¶ñ‡ßá‡¶≤‡¶®‡¶æ" }, { en: "Box", bn: "‡¶¨‡¶æ‡¶ï‡ßç‡¶∏" }, { en: "Fox", bn: "‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤" },
                { en: "Lion", bn: "‡¶∏‡¶ø‡¶Ç‡¶π" }, { en: "Tiger", bn: "‡¶¨‡¶æ‡¶ò" }, { en: "Duck", bn: "‡¶π‡¶æ‡¶Å‡¶∏" }, { en: "Hen", bn: "‡¶Æ‡ßÅ‡¶∞‡¶ó‡¶ø" }, { en: "Key", bn: "‡¶ö‡¶æ‡¶¨‡¶ø" },
                // 101+ (Extra)
                { en: "Lock", bn: "‡¶§‡¶æ‡¶≤‡¶æ" }, { en: "Map", bn: "‡¶Æ‡¶æ‡¶®‡¶ö‡¶ø‡¶§‡ßç‡¶∞" }, { en: "Bag", bn: "‡¶•‡¶≤‡ßá" }, { en: "Cap", bn: "‡¶ü‡ßÅ‡¶™‡¶ø (‡¶ï‡ßç‡¶Ø‡¶æ‡¶™)" }, { en: "Shoe", bn: "‡¶ú‡ßÅ‡¶§‡¶æ" }
            ],
            medium: [
                // 1-20
                { en: "Adventure", bn: "‡¶¶‡ßÅ‡¶É‡¶∏‡¶æ‡¶π‡¶∏‡¶ø‡¶ï ‡¶ï‡¶æ‡¶ú" }, { en: "Beautiful", bn: "‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞" }, { en: "Curious", bn: "‡¶ï‡ßå‡¶§‡ßÇ‡¶π‡¶≤‡ßÄ" }, { en: "Dangerous", bn: "‡¶¨‡¶ø‡¶™‡¶ú‡ßç‡¶ú‡¶®‡¶ï" }, { en: "Education", bn: "‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ" },
                { en: "Fantastic", bn: "‡¶Ö‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£" }, { en: "Generous", bn: "‡¶â‡¶¶‡¶æ‡¶∞" }, { en: "Holiday", bn: "‡¶õ‡ßÅ‡¶ü‡¶ø‡¶∞ ‡¶¶‡¶ø‡¶®" }, { en: "Important", bn: "‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£" }, { en: "Journey", bn: "‡¶≠‡ßç‡¶∞‡¶Æ‡¶£" },
                { en: "Knowledge", bn: "‡¶ú‡ßç‡¶û‡¶æ‡¶®" }, { en: "Library", bn: "‡¶ó‡ßç‡¶∞‡¶®‡ßç‡¶•‡¶æ‡¶ó‡¶æ‡¶∞" }, { en: "Mountain", bn: "‡¶™‡¶æ‡¶π‡¶æ‡¶°‡¶º" }, { en: "Nature", bn: "‡¶™‡ßç‡¶∞‡¶ï‡ßÉ‡¶§‡¶ø" }, { en: "Ocean", bn: "‡¶∏‡¶Æ‡ßÅ‡¶¶‡ßç‡¶∞" },
                { en: "Patient", bn: "‡¶ß‡ßà‡¶∞‡ßç‡¶Ø‡¶∂‡ßÄ‡¶≤" }, { en: "Question", bn: "‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®" }, { en: "Respect", bn: "‡¶∏‡¶Æ‡ßç‡¶Æ‡¶æ‡¶®" }, { en: "Scientist", bn: "‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶®‡ßÄ" }, { en: "Together", bn: "‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá" },
                // 21-40
                { en: "Vacation", bn: "‡¶Ö‡¶¨‡¶ï‡¶æ‡¶∂" }, { en: "Weather", bn: "‡¶Ü‡¶¨‡¶π‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ" }, { en: "Yesterday", bn: "‡¶ó‡¶§‡¶ï‡¶æ‡¶≤" }, { en: "Tomorrow", bn: "‡¶Ü‡¶ó‡¶æ‡¶Æ‡ßÄ‡¶ï‡¶æ‡¶≤" }, { en: "Morning", bn: "‡¶∏‡¶ï‡¶æ‡¶≤" },
                { en: "Evening", bn: "‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ" }, { en: "Night", bn: "‡¶∞‡¶æ‡¶§" }, { en: "Friend", bn: "‡¶¨‡¶®‡ßç‡¶ß‡ßÅ" }, { en: "Family", bn: "‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞" }, { en: "Market", bn: "‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞" },
                { en: "Money", bn: "‡¶ü‡¶æ‡¶ï‡¶æ" }, { en: "Happy", bn: "‡¶∏‡ßÅ‡¶ñ‡ßÄ" }, { en: "Sad", bn: "‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§" }, { en: "Angry", bn: "‡¶∞‡¶æ‡¶ó‡¶æ‡¶®‡ßç‡¶¨‡¶ø‡¶§" }, { en: "Tired", bn: "‡¶ï‡ßç‡¶≤‡¶æ‡¶®‡ßç‡¶§" },
                { en: "Hungry", bn: "‡¶ï‡ßç‡¶∑‡ßÅ‡¶ß‡¶æ‡¶∞‡ßç‡¶§" }, { en: "Thirsty", bn: "‡¶§‡ßÉ‡¶∑‡ßç‡¶£‡¶æ‡¶∞‡ßç‡¶§" }, { en: "Strong", bn: "‡¶∂‡¶ï‡ßç‡¶§‡¶ø‡¶∂‡¶æ‡¶≤‡ßÄ" }, { en: "Weak", bn: "‡¶¶‡ßÅ‡¶∞‡ßç‡¶¨‡¶≤" }, { en: "Clever", bn: "‡¶ö‡¶æ‡¶≤‡¶æ‡¶ï" },
                // 41-60
                { en: "Stupid", bn: "‡¶¨‡ßã‡¶ï‡¶æ" }, { en: "Honest", bn: "‡¶∏‡¶§‡ßç" }, { en: "Brave", bn: "‡¶∏‡¶æ‡¶π‡¶∏‡ßÄ" }, { en: "Clean", bn: "‡¶™‡¶∞‡¶ø‡¶∑‡ßç‡¶ï‡¶æ‡¶∞" }, { en: "Dirty", bn: "‡¶®‡ßã‡¶Ç‡¶∞‡¶æ" },
                { en: "Cheap", bn: "‡¶∏‡¶∏‡ßç‡¶§‡¶æ" }, { en: "Expensive", bn: "‡¶¶‡¶æ‡¶Æ‡ßÄ" }, { en: "Easy", bn: "‡¶∏‡¶π‡¶ú" }, { en: "Difficult", bn: "‡¶ï‡¶†‡¶ø‡¶®" }, { en: "Heavy", bn: "‡¶≠‡¶æ‡¶∞‡ßÄ" },
                { en: "Light", bn: "‡¶π‡¶æ‡¶≤‡¶ï‡¶æ / ‡¶Ü‡¶≤‡ßã" }, { en: "Dark", bn: "‡¶Ö‡¶®‡ßç‡¶ß‡¶ï‡¶æ‡¶∞" }, { en: "Soft", bn: "‡¶®‡¶∞‡¶Æ" }, { en: "Hard", bn: "‡¶ï‡¶†‡¶ø‡¶® / ‡¶∂‡¶ï‡ßç‡¶§" }, { en: "Fast", bn: "‡¶¶‡ßç‡¶∞‡ßÅ‡¶§" },
                { en: "Slow", bn: "‡¶ß‡ßÄ‡¶∞" }, { en: "Early", bn: "‡¶§‡¶æ‡¶°‡¶º‡¶æ‡¶§‡¶æ‡¶°‡¶º‡¶ø" }, { en: "Late", bn: "‡¶¶‡ßá‡¶∞‡ßÄ" }, { en: "Always", bn: "‡¶∏‡¶∞‡ßç‡¶¨‡¶¶‡¶æ" }, { en: "Never", bn: "‡¶ï‡¶ñ‡¶®‡¶ì ‡¶®‡¶æ" },
                // 61-80
                { en: "Sometimes", bn: "‡¶Æ‡¶æ‡¶ù‡ßá ‡¶Æ‡¶æ‡¶ù‡ßá" }, { en: "Often", bn: "‡¶™‡ßç‡¶∞‡¶æ‡¶Ø‡¶º‡¶á" }, { en: "Usually", bn: "‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£‡¶§" }, { en: "Suddenly", bn: "‡¶π‡¶†‡¶æ‡ßé" }, { en: "Finally", bn: "‡¶Ö‡¶¨‡¶∂‡ßá‡¶∑‡ßá" },
                { en: "Example", bn: "‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£" }, { en: "Reason", bn: "‡¶ï‡¶æ‡¶∞‡¶£" }, { en: "Result", bn: "‡¶´‡¶≤‡¶æ‡¶´‡¶≤" }, { en: "Problem", bn: "‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ" }, { en: "Solution", bn: "‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶®" },
                { en: "Advice", bn: "‡¶™‡¶∞‡¶æ‡¶Æ‡¶∞‡ßç‡¶∂" }, { en: "Promise", bn: "‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∂‡ßç‡¶∞‡ßÅ‡¶§‡¶ø" }, { en: "Secret", bn: "‡¶ó‡ßã‡¶™‡¶®" }, { en: "Message", bn: "‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ" }, { en: "Language", bn: "‡¶≠‡¶æ‡¶∑‡¶æ" },
                { en: "Village", bn: "‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ" }, { en: "City", bn: "‡¶∂‡¶π‡¶∞" }, { en: "Country", bn: "‡¶¶‡ßá‡¶∂" }, { en: "World", bn: "‡¶¨‡¶ø‡¶∂‡ßç‡¶¨" }, { en: "Island", bn: "‡¶¶‡ßç‡¶¨‡ßÄ‡¶™" },
                // 81-100
                { en: "Desert", bn: "‡¶Æ‡¶∞‡ßÅ‡¶≠‡ßÇ‡¶Æ‡¶ø" }, { en: "Forest", bn: "‡¶¨‡¶®" }, { en: "Bridge", bn: "‡¶∏‡ßá‡¶§‡ßÅ" }, { en: "Building", bn: "‡¶≠‡¶¨‡¶®" }, { en: "Office", bn: "‡¶Ö‡¶´‡¶ø‡¶∏" },
                { en: "Factory", bn: "‡¶ï‡¶æ‡¶∞‡¶ñ‡¶æ‡¶®‡¶æ" }, { en: "Doctor", bn: "‡¶°‡¶æ‡¶ï‡ßç‡¶§‡¶æ‡¶∞" }, { en: "Teacher", bn: "‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï" }, { en: "Student", bn: "‡¶õ‡¶æ‡¶§‡ßç‡¶∞" }, { en: "Driver", bn: "‡¶ö‡¶æ‡¶≤‡¶ï" },
                { en: "Farmer", bn: "‡¶ï‡ßÉ‡¶∑‡¶ï" }, { en: "Police", bn: "‡¶™‡ßÅ‡¶≤‡¶ø‡¶∂" }, { en: "Soldier", bn: "‡¶∏‡ßà‡¶®‡¶ø‡¶ï" }, { en: "Singer", bn: "‡¶ó‡¶æ‡¶Ø‡¶º‡¶ï" }, { en: "Dancer", bn: "‡¶®‡¶∞‡ßç‡¶§‡¶ï‡ßÄ" },
                { en: "Writer", bn: "‡¶≤‡ßá‡¶ñ‡¶ï" }, { en: "Player", bn: "‡¶ñ‡ßá‡¶≤‡ßã‡¶Ø‡¶º‡¶æ‡¶°‡¶º" }, { en: "Worker", bn: "‡¶∂‡ßç‡¶∞‡¶Æ‡¶ø‡¶ï" }, { en: "Customer", bn: "‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ" }, { en: "Owner", bn: "‡¶Æ‡¶æ‡¶≤‡¶ø‡¶ï" },
                // 101+
                { en: "Picture", bn: "‡¶õ‡¶¨‡¶ø" }, { en: "Music", bn: "‡¶∏‡¶Ç‡¶ó‡ßÄ‡¶§" }, { en: "Mirror", bn: "‡¶Ü‡¶Ø‡¶º‡¶®‡¶æ" }, { en: "Clock", bn: "‡¶ò‡¶°‡¶º‡¶ø" }, { en: "Calendar", bn: "‡¶™‡¶û‡ßç‡¶ú‡¶ø‡¶ï‡¶æ" }
            ],
            hard: [
                // 1-20
                { en: "Accommodate", bn: "‡¶Æ‡¶æ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶®‡ßá‡¶ì‡¶Ø‡¶º‡¶æ" }, { en: "Benevolent", bn: "‡¶™‡¶∞‡ßã‡¶™‡¶ï‡¶æ‡¶∞‡ßÄ" }, { en: "Consequence", bn: "‡¶´‡¶≤‡¶æ‡¶´‡¶≤" }, { en: "Diligent", bn: "‡¶™‡¶∞‡¶ø‡¶∂‡ßç‡¶∞‡¶Æ‡ßÄ" }, { en: "Efficient", bn: "‡¶¶‡¶ï‡ßç‡¶∑" },
                { en: "Frequent", bn: "‡¶ò‡¶®‡¶ò‡¶®" }, { en: "Genuine", bn: "‡¶ñ‡¶æ‡¶Å‡¶ü‡¶ø" }, { en: "Hesitate", bn: "‡¶¶‡ßç‡¶¨‡¶ø‡¶ß‡¶æ ‡¶ï‡¶∞‡¶æ" }, { en: "Innocent", bn: "‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡ßã‡¶∑" }, { en: "Jealous", bn: "‡¶à‡¶∞‡ßç‡¶∑‡¶æ‡¶®‡ßç‡¶¨‡¶ø‡¶§" },
                { en: "Keen", bn: "‡¶Ü‡¶ó‡ßç‡¶∞‡¶π‡ßÄ" }, { en: "Leisure", bn: "‡¶Ö‡¶¨‡¶∏‡¶∞" }, { en: "Moderate", bn: "‡¶Æ‡¶æ‡¶ù‡¶æ‡¶∞‡¶ø" }, { en: "Narrate", bn: "‡¶¨‡¶∞‡ßç‡¶£‡¶®‡¶æ ‡¶ï‡¶∞‡¶æ" }, { en: "Obedient", bn: "‡¶¨‡¶æ‡¶ß‡ßç‡¶Ø" },
                { en: "Predict", bn: "‡¶≠‡¶¨‡¶ø‡¶∑‡ßç‡¶Ø‡¶¶‡ßç‡¶¨‡¶æ‡¶£‡ßÄ ‡¶ï‡¶∞‡¶æ" }, { en: "Quality", bn: "‡¶ó‡ßÅ‡¶£‡¶Æ‡¶æ‡¶®" }, { en: "Reliable", bn: "‡¶®‡¶ø‡¶∞‡ßç‡¶≠‡¶∞‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø" }, { en: "Strategy", bn: "‡¶ï‡ßå‡¶∂‡¶≤" }, { en: "Tradition", bn: "‡¶ê‡¶§‡¶ø‡¶π‡ßç‡¶Ø" },
                // 21-40
                { en: "Unique", bn: "‡¶Ö‡¶®‡¶®‡ßç‡¶Ø" }, { en: "Valuable", bn: "‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡¶¨‡¶æ‡¶®" }, { en: "Wisdom", bn: "‡¶™‡ßç‡¶∞‡¶ú‡ßç‡¶û‡¶æ" }, { en: "Xenophobia", bn: "‡¶¨‡¶ø‡¶¶‡ßá‡¶∂‡ßÄ ‡¶≠‡ßÄ‡¶§‡¶ø" }, { en: "Youth", bn: "‡¶Ø‡ßå‡¶¨‡¶®" },
                { en: "Zeal", bn: "‡¶™‡ßç‡¶∞‡¶¨‡¶≤ ‡¶â‡ßé‡¶∏‡¶æ‡¶π" }, { en: "Ambiguous", bn: "‡¶Ö‡¶∏‡ßç‡¶™‡¶∑‡ßç‡¶ü" }, { en: "Bureaucracy", bn: "‡¶Ü‡¶Æ‡¶≤‡¶æ‡¶§‡¶®‡ßç‡¶§‡ßç‡¶∞" }, { en: "Chronological", bn: "‡¶ï‡¶æ‡¶≤‡¶æ‡¶®‡ßÅ‡¶ï‡ßç‡¶∞‡¶Æ‡¶ø‡¶ï" }, { en: "Deteriorate", bn: "‡¶Ö‡¶¨‡¶®‡¶§‡¶ø ‡¶ò‡¶ü‡¶æ" },
                { en: "Enthusiastic", bn: "‡¶â‡ßé‡¶∏‡¶æ‡¶π‡ßÄ" }, { en: "Fluctuate", bn: "‡¶ì‡¶†‡¶æ‡¶®‡¶æ‡¶Æ‡¶æ ‡¶ï‡¶∞‡¶æ" }, { en: "Hypocrisy", bn: "‡¶≠‡¶£‡ßç‡¶°‡¶æ‡¶Æ‡¶ø" }, { en: "Inevitable", bn: "‡¶Ö‡¶®‡¶ø‡¶¨‡¶æ‡¶∞‡ßç‡¶Ø" }, { en: "Justification", bn: "‡¶Ø‡ßå‡¶ï‡ßç‡¶§‡¶ø‡¶ï‡¶§‡¶æ" },
                { en: "Kleptomania", bn: "‡¶ö‡ßÅ‡¶∞‡¶ø‡¶∞ ‡¶¨‡¶æ‡¶§‡¶ø‡¶ï" }, { en: "Legitimate", bn: "‡¶¨‡ßà‡¶ß" }, { en: "Metaphor", bn: "‡¶∞‡ßÇ‡¶™‡¶ï" }, { en: "Nostalgia", bn: "‡¶Ö‡¶§‡ßÄ‡¶§‡ßá‡¶∞ ‡¶∏‡ßç‡¶Æ‡ßÉ‡¶§‡¶ø" }, { en: "Optimistic", bn: "‡¶Ü‡¶∂‡¶æ‡¶¨‡¶æ‡¶¶‡ßÄ" },
                // 41-60
                { en: "Pessimistic", bn: "‡¶®‡ßà‡¶∞‡¶æ‡¶∂‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶‡ßÄ" }, { en: "Quarantine", bn: "‡¶∏‡¶ô‡ßç‡¶ó‡¶®‡¶ø‡¶∞‡ßã‡¶ß" }, { en: "Rejuvenate", bn: "‡¶∏‡¶ú‡ßÄ‡¶¨ ‡¶ï‡¶∞‡¶æ" }, { en: "Simultaneous", bn: "‡¶Ø‡ßÅ‡¶ó‡¶™‡ßé" }, { en: "Transparent", bn: "‡¶∏‡ßç‡¶¨‡¶ö‡ßç‡¶õ" },
                { en: "Unanimous", bn: "‡¶∏‡¶∞‡ßç‡¶¨‡¶∏‡¶Æ‡ßç‡¶Æ‡¶§" }, { en: "Vulnerable", bn: "‡¶Ö‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§" }, { en: "Wholesome", bn: "‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø‡¶ï‡¶∞" }, { en: "Atmosphere", bn: "‡¶¨‡¶æ‡¶Ø‡¶º‡ßÅ‡¶Æ‡¶£‡ßç‡¶°‡¶≤" }, { en: "Bacteria", bn: "‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ü‡ßá‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ" },
                { en: "Climate", bn: "‡¶ú‡¶≤‡¶¨‡¶æ‡¶Ø‡¶º‡ßÅ" }, { en: "Digestion", bn: "‡¶π‡¶ú‡¶Æ" }, { en: "Ecosystem", bn: "‡¶¨‡¶æ‡¶∏‡ßç‡¶§‡ßÅ‡¶§‡¶®‡ßç‡¶§‡ßç‡¶∞" }, { en: "Fossil", bn: "‡¶ú‡ßÄ‡¶¨‡¶æ‡¶∂‡ßç‡¶Æ" }, { en: "Gravity", bn: "‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶ï‡¶∞‡ßç‡¶∑‡¶£" },
                { en: "Habitat", bn: "‡¶Ü‡¶¨‡¶æ‡¶∏‡¶∏‡ßç‡¶•‡¶≤" }, { en: "Invention", bn: "‡¶Ü‡¶¨‡¶ø‡¶∑‡ßç‡¶ï‡¶æ‡¶∞" }, { en: "Jupiter", bn: "‡¶¨‡ßÉ‡¶π‡¶∏‡ßç‡¶™‡¶§‡¶ø ‡¶ó‡ßç‡¶∞‡¶π" }, { en: "Kinetic", bn: "‡¶ó‡¶§‡¶ø‡¶∂‡ßÄ‡¶≤" }, { en: "Laboratory", bn: "‡¶ó‡¶¨‡ßá‡¶∑‡¶£‡¶æ‡¶ó‡¶æ‡¶∞" },
                // 61-80
                { en: "Microscope", bn: "‡¶Ö‡¶£‡ßÅ‡¶¨‡ßÄ‡¶ï‡ßç‡¶∑‡¶£ ‡¶Ø‡¶®‡ßç‡¶§‡ßç‡¶∞" }, { en: "Nutrition", bn: "‡¶™‡ßÅ‡¶∑‡ßç‡¶ü‡¶ø" }, { en: "Oxygen", bn: "‡¶Ö‡¶ï‡ßç‡¶∏‡¶ø‡¶ú‡ßá‡¶®" }, { en: "Pollution", bn: "‡¶¶‡ßÇ‡¶∑‡¶£" }, { en: "Quantity", bn: "‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£" },
                { en: "Radiation", bn: "‡¶¨‡¶ø‡¶ï‡¶ø‡¶∞‡¶£" }, { en: "Satellite", bn: "‡¶â‡¶™‡¶ó‡ßç‡¶∞‡¶π" }, { en: "Temperature", bn: "‡¶§‡¶æ‡¶™‡¶Æ‡¶æ‡¶§‡ßç‡¶∞‡¶æ" }, { en: "Velocity", bn: "‡¶¨‡ßá‡¶ó" }, { en: "Zoology", bn: "‡¶™‡ßç‡¶∞‡¶æ‡¶£‡ßÄ‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶æ" },
                { en: "Agriculture", bn: "‡¶ï‡ßÉ‡¶∑‡¶ø" }, { en: "Biology", bn: "‡¶ú‡ßÄ‡¶¨‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶®" }, { en: "Chemistry", bn: "‡¶∞‡¶∏‡¶æ‡¶Ø‡¶º‡¶®" }, { en: "Physics", bn: "‡¶™‡¶¶‡¶æ‡¶∞‡ßç‡¶•‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶®" }, { en: "Galaxy", bn: "‡¶õ‡¶æ‡¶Ø‡¶º‡¶æ‡¶™‡¶•" },
                { en: "Universe", bn: "‡¶Æ‡¶π‡¶æ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨" }, { en: "Volcano", bn: "‡¶Ü‡¶ó‡ßç‡¶®‡ßá‡¶Ø‡¶º‡¶ó‡¶ø‡¶∞‡¶ø" }, { en: "Earthquake", bn: "‡¶≠‡ßÇ‡¶Æ‡¶ø‡¶ï‡¶Æ‡ßç‡¶™" }, { en: "Authority", bn: "‡¶ï‡¶∞‡ßç‡¶§‡ßÉ‡¶§‡ßç‡¶¨" }, { en: "Business", bn: "‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ" },
                // 81-100
                { en: "Commercial", bn: "‡¶¨‡¶æ‡¶£‡¶ø‡¶ú‡ßç‡¶Ø‡¶ø‡¶ï" }, { en: "Democracy", bn: "‡¶ó‡¶£‡¶§‡¶®‡ßç‡¶§‡ßç‡¶∞" }, { en: "Economy", bn: "‡¶Ö‡¶∞‡ßç‡¶•‡¶®‡ßÄ‡¶§‡¶ø" }, { en: "Finance", bn: "‡¶Ö‡¶∞‡ßç‡¶•‡¶∏‡¶Ç‡¶∏‡ßç‡¶•‡¶æ‡¶®" }, { en: "Government", bn: "‡¶∏‡¶∞‡¶ï‡¶æ‡¶∞" },
                { en: "History", bn: "‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏" }, { en: "Industry", bn: "‡¶∂‡¶ø‡¶≤‡ßç‡¶™" }, { en: "Justice", bn: "‡¶®‡ßç‡¶Ø‡¶æ‡¶Ø‡¶º‡¶¨‡¶ø‡¶ö‡¶æ‡¶∞" }, { en: "Kingdom", bn: "‡¶∞‡¶æ‡¶ú‡ßç‡¶Ø" }, { en: "Leader", bn: "‡¶®‡ßá‡¶§‡¶æ" },
                { en: "Management", bn: "‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ" }, { en: "Nation", bn: "‡¶ú‡¶æ‡¶§‡¶ø" }, { en: "Opinion", bn: "‡¶Æ‡¶§‡¶æ‡¶Æ‡¶§" }, { en: "Politics", bn: "‡¶∞‡¶æ‡¶ú‡¶®‡ßÄ‡¶§‡¶ø" }, { en: "Republic", bn: "‡¶™‡ßç‡¶∞‡¶ú‡¶æ‡¶§‡¶®‡ßç‡¶§‡ßç‡¶∞" },
                { en: "Society", bn: "‡¶∏‡¶Æ‡¶æ‡¶ú" }, { en: "Trade", bn: "‡¶¨‡¶æ‡¶£‡¶ø‡¶ú‡ßç‡¶Ø" }, { en: "Architecture", bn: "‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶§‡ßç‡¶Ø" }, { en: "Psychology", bn: "‡¶Æ‡¶®‡ßã‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶®" }, { en: "Literature", bn: "‡¶∏‡¶æ‡¶π‡¶ø‡¶§‡ßç‡¶Ø" },
                // 101+
                { en: "Philosophy", bn: "‡¶¶‡¶∞‡ßç‡¶∂‡¶®" }, { en: "Revolution", bn: "‡¶¨‡¶ø‡¶™‡ßç‡¶≤‡¶¨" }, { en: "Constitution", bn: "‡¶∏‡¶Ç‡¶¨‡¶ø‡¶ß‡¶æ‡¶®" }, { en: "Civilization", bn: "‡¶∏‡¶≠‡ßç‡¶Ø‡¶§‡¶æ" }, { en: "Generation", bn: "‡¶™‡ßç‡¶∞‡¶ú‡¶®‡ßç‡¶Æ" }
            ]
        };

        let currentList = [];
        let currentIndex = 0;

        function selectLevel(level) {
            currentList = vocabData[level];
            currentIndex = 0;
            document.getElementById('difficulty-screen').classList.add('hidden');
            document.getElementById('slide-stage').style.display = 'flex';
            renderSlide();
        }

        function showMenu() {
            document.getElementById('difficulty-screen').classList.remove('hidden');
            document.getElementById('slide-stage').style.display = 'none';
        }

        function renderSlide() {
            if (currentList.length === 0) return;
            const wordObj = currentList[currentIndex];
            document.getElementById('english-word').innerText = wordObj.en;
            
            const bnText = document.getElementById('bangla-meaning');
            
            // --- FIX FOR GHOST TEXT ---
            // 1. Force remove 'reveal' class
            bnText.classList.remove('reveal');
            // 2. Force add 'blur' class
            bnText.classList.add('blur');
            // 3. Change text immediately
            bnText.innerText = wordObj.bn;
        }

        function toggleReveal() {
            const bnText = document.getElementById('bangla-meaning');
            if (bnText.classList.contains('blur')) {
                bnText.classList.remove('blur');
                bnText.classList.add('reveal');
            } else {
                bnText.classList.remove('reveal');
                bnText.classList.add('blur');
            }
        }

        function nextSlide() {
            if (currentIndex < currentList.length - 1) {
                currentIndex++;
                renderSlide();
            }
        }

        function prevSlide() {
            if (currentIndex > 0) {
                currentIndex--;
                renderSlide();
            }
        }
        
        document.addEventListener('keydown', (e) => {
            if (document.getElementById('whiteboard-overlay').style.display === 'block') return;
            if (e.key === 'ArrowRight') nextSlide();
            if (e.key === 'ArrowLeft') prevSlide();
            if (e.key === ' ' || e.key === 'Enter') toggleReveal();
        });

        // --- WHITEBOARD ---
        const canvas = document.getElementById('drawing-canvas');
        const ctx = canvas.getContext('2d');
        let painting = false;
        let currentColor = "white"; 
        let currentSize = 5;

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        function startPosition(e) {
            painting = true;
            draw(e);
        }
        function endPosition() {
            painting = false;
            ctx.beginPath();
        }

        function draw(e) {
            if (!painting) return;
            e.preventDefault();
            
            let clientX, clientY;
            if(e.type === 'touchmove' || e.type === 'touchstart') {
                clientX = e.touches[0].clientX;
                clientY = e.touches[0].clientY;
            } else {
                clientX = e.clientX;
                clientY = e.clientY;
            }

            ctx.lineWidth = currentSize;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            ctx.strokeStyle = currentColor;

            ctx.lineTo(clientX, clientY);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(clientX, clientY);
        }

        ['mousedown', 'touchstart'].forEach(evt => canvas.addEventListener(evt, startPosition));
        ['mouseup', 'touchend'].forEach(evt => canvas.addEventListener(evt, endPosition));
        ['mousemove', 'touchmove'].forEach(evt => canvas.addEventListener(evt, draw));

        function openWhiteboard() {
            document.getElementById('whiteboard-overlay').style.display = 'block';
        }

        function closeWhiteboard() {
            document.getElementById('whiteboard-overlay').style.display = 'none';
        }

        function setColor(color, btn) {
            currentColor = color;
            currentSize = document.getElementById('pen-size').value; 
            updateActiveBtn(btn);
        }

        function setEraser(btn) {
            currentColor = "#1e1e1e"; 
            currentSize = document.getElementById('pen-size').value * 4; 
            updateActiveBtn(btn);
        }

        function updateSize(val) {
            currentSize = val;
            if (currentColor === "#1e1e1e") {
                currentSize = val * 4; 
            }
        }

        function clearBoard() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        function updateActiveBtn(activeBtn) {
            document.querySelectorAll('.tool-btn').forEach(b => b.classList.remove('active'));
            activeBtn.classList.add('active');
        }

    </script>
</body>
</html>
